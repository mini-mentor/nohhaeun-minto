<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // let myFirstPromise = new Promise((resolve, reject) => {
        //     // ìš°ë¦¬ê°€ ìˆ˜í–‰í•œ ë¹„ë™ê¸° ì‘ì—…ì´ ì„±ê³µí•œ ê²½ìš° resolve(...)ë¥¼ í˜¸ì¶œí•˜ê³ , ì‹¤íŒ¨í•œ ê²½ìš° reject(...)ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
        //     // ì´ ì˜ˆì œì—ì„œëŠ” setTimeout()ì„ ì‚¬ìš©í•´ ë¹„ë™ê¸° ì½”ë“œë¥¼ í‰ë‚´ëƒ…ë‹ˆë‹¤.
        //     // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ XHRì´ë‚˜ HTML5 APIë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.
        //     setTimeout(function () {
        //         resolve("ì„±ê³µ!")  // ì™€! ë¬¸ì œ ì—†ìŒ!
        //     }, 250)
        // })

        // myFirstPromise.then((successMessage) => {
        //     // successMessageëŠ” ìœ„ì—ì„œ resolve(...) í˜¸ì¶œì— ì œê³µí•œ ê°’ì…ë‹ˆë‹¤.
        //     // ë¬¸ìì—´ì´ì–´ì•¼ í•˜ëŠ” ë²•ì€ ì—†ì§€ë§Œ, ìœ„ì—ì„œ ë¬¸ìì—´ì„ ì¤¬ìœ¼ë‹ˆ ì•„ë§ˆ ë¬¸ìì—´ì¼ ê²ƒì…ë‹ˆë‹¤.
        //     console.log("ì™€! " + successMessage)
        // });

        // const promise1 = new Promise((resolve, reject) => {
        //     resolve();
        // });

        // promise1
        //     .then(() => {
        //         console.log("then!");
        //     })
        //     .catch(() => {
        //         console.log("catch!");
        //     });

        // function startAsync(age) {
        //     return new Promise((resolve, reject) => {
        //         if (age > 20) resolve();
        //         else reject();
        //     });
        // }

        // const promise1 = startAsync(25);
        // promise1
        //     .then(() => {
        //         console.log("1 then!");
        //     })
        //     .catch(() => {
        //         console.log("1 catch!");
        //     });

        // const promise2 = startAsync(15);
        // promise2
        //     .then(() => {
        //         console.log("2 then!");
        //     })
        //     .catch(() => {
        //         console.log("2 catch!");
        //     });

        // function setTimeoutPromise(delay) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             resolve();
        //         }, delay);
        //     });
        // }

        // console.log("setTimeoutPromiseê°€ ì‹œì‘ë©ë‹ˆë‹¤.");

        // const promise = setTimeoutPromise(1000);

        // promise.then(() => {
        //     console.log("ëë‚¬ìŠµë‹ˆë‹¤!");
        // });

        // const getDataCallback = (str, callback) => {
        //     setTimeout(() => {
        //         if (typeof str === 'string') {
        //             callback(undefined, str) //error, result
        //         } else {
        //             callback('ë¬¸ìì—´ì´ ì•„ë‹ˆë„¤ìš”')
        //         }
        //     }, 2000)
        // }

        // getDataCallback(2, (err, data) => {
        //     if (err) {
        //         console.log(err)
        //     } else {
        //         getDataCallback(data, (err, data) => { //ë‘ ë²ˆ 2ë¥¼ ê³±í•˜ê³  ì‹¶ì–´ì„œ ì½œë°±í•¨ìˆ˜ ë‹¤ì‹œ í˜¸ì¶œí•¨
        //             if (err) {
        //                 console.log(err)
        //             } else {
        //                 console.log(data) //8, ë‘ë²ˆì§¸ë¡œ 2ë¥¼ ê³±í–ˆìœ¼ë¯€ë¡œ 8
        //             }
        //         })
        //     }
        // })

        // getDataCallback("í•˜ì´í•˜ì´", (err, data) => {
        //     if (err) {
        //         console.log(err)
        //     } else {
        //         getDataCallback(data, (err, data) => { //ë‘ ë²ˆ 2ë¥¼ ê³±í•˜ê³  ì‹¶ì–´ì„œ ì½œë°±í•¨ìˆ˜ ë‹¤ì‹œ í˜¸ì¶œí•¨
        //             if (err) {
        //                 console.log(err)
        //             } else {
        //                 console.log(data) //8, ë‘ë²ˆì§¸ë¡œ 2ë¥¼ ê³±í–ˆìœ¼ë¯€ë¡œ 8
        //             }
        //         }
        //             // console.log(data)
        //         )
        //     }
        // })

        // getDataPromise('í•˜í•˜ì´').then((data) => {
        //     return getDataPromise(data)
        // }).then((data) => {
        //     return getDataPromise(data)
        // }).then((data) => {
        //     console.log(data)
        // }).catch((err) => { //catch: an error handler for all of our promises in the promise chaining
        //     console.log(err)
        // })

        // ê¸°ì¡´
        // function startAsync(age) {
        //   return new Promise((resolve, reject) => {
        //     if (age > 20) resolve(`${age} success`);
        //     else reject(new Error(`${age} is not over 20`));
        //   });
        // }

        // async function f() {

        //     let promise = new Promise((resolve, reject) => {
        //         setTimeout(() => resolve("ì™„ë£Œ!"), 1000)
        //     });

        //     let result = await promise; // í”„ë¼ë¯¸ìŠ¤ê°€ ì´í–‰ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼ (*)

        //     console.log(result); // "ì™„ë£Œ!"
        // }

        // f();

        // async & await ì˜ˆì œ

        // function delay(ms) {
        //     return new Promise(resolve => setTimeout(resolve, ms));
        // }

        // //2ì´ˆë™ì•ˆ ê¸°ë‹¤ë¦¬ê²Œ í•˜ê³  ì‚¬ê³¼ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ
        // async function getApple() {
        //     await delay(2000)
        //     return 'ğŸ'
        // }

        // //1ì´ˆë™ì•ˆ ê¸°ë‹¤ë¼ê²Œ í•˜ê³  ì‚¬ê³¼ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ
        // async function getBanana() {
        //     await delay(1000)
        //     return 'ğŸŒ'
        // }

        // getApple().then(console.log)  // ê²°ê³¼ : ğŸ
        // getBanana().then(console.log) // ê²°ê³¼ : ğŸŒ

        // function order(ms) {
        //     return new Promise(resolve => setTimeout(resolve, ms));
        // }

        // //2ì´ˆë™ì•ˆ ê¸°ë‹¤ë¦¬ê²Œ í•˜ê³  ì‚¬ê³¼ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ
        // async function selectMenu() {
        //     await order(2000)
        //     return `${ms}ì´ˆ ê¸°ë‹¤ë ¸êµ°ìš”ã…›`
        // }

        // //1ì´ˆë™ì•ˆ ê¸°ë‹¤ë¼ê²Œ í•˜ê³  ì‚¬ê³¼ë¥¼ ë¦¬í„´í•˜ëŠ” ë©”ì„œë“œ
        // async function getBanana() {
        //     await order(1000)
        //     return 'ğŸŒ'
        // }

        // selectMenu().then(console.log)  // ê²°ê³¼ : ğŸ
        // getBanana().then(console.log) // ê²°ê³¼ : ğŸŒ

        
        async function order() {

            async function fLoading() {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        console.log("ê³ ë¯¼ì¤‘..");
                    }, 2000);
                });
            }
            async function fOrder() {
                return setTimeout(() => {
                    console.log("ì£¼ë¬¸í–ˆë‹¤!");
                }, 3000);
            }
    
            async function fTakeout() {
                return setTimeout(() => {
                    console.log("ë°›ì•˜ë‹¹!");
                }, 1000);
            }
    
            async function fEat() {
                return setTimeout(() => {
                    console.log("ë¨¹ìë¨¹ì");
                }, 200);
            }

            let loading = await fLoading()
            let order = await fOrder()
            let takeout = await fTakeout()
            let eat = await fEat()
        }

        order();

        // async function f() {

        //     let promise = new Promise((resolve, reject) => {
        //         setTimeout(() => resolve("ì™„ë£Œ!"), 1000)
        //     });

        //     let result = await promise; // í”„ë¼ë¯¸ìŠ¤ê°€ ì´í–‰ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼ (*)

        //     console.log(result); // "ì™„ë£Œ!"
        // }

        // f();
    </script>
</body>

</html>